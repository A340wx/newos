<html>
<head>
<title>The NewOS Operating System: Docs</title>
</head>
<body BGCOLOR="#FFFFFF">

<h1 align="center">Building NewOS</h1>

<hr>

<hr>

<table border="0" width="100%" bgcolor="#E8E8E8">
 <tr>
  <td width="100%" height="100%" valign="top" align="left">
  <ul>
  <h4>You'll Need:</h4>
  <li>GNU C</li>
  <li>GNU gmake</li>
  <br>
  <br>
  <p>To build newos, you need to grab a special toolchain (gcc + binutils) that I've compiled for most
  popular host OS's (and some less popular as well). The only supported build toolchain are the ones I've made, but
  you may or may not be able to pull it off if your host computer is x86 and has an ELF producing toolchain
  already installed. Go to <a href="http://newos.sourceforge.net/download.php">here</a> to download and install a toolchain.
  <p>To make a floppy image (pretty much what you'll always want to do):
  type <b>make</b>. It will put the final disk image in <b>build/i386/final</b>. This is the
  file you want to write to a floppy to boot.
  <p>NOTE: you need to be running the GNU make. On some systems (FreeBSD), GNU make is called gmake. So, if you get
  a bunch of make errors and it bails really quickly, try <b>gmake</b> instead of <b>make</b>.
  <p>The first time you run it may spit out a ton of warnings about missing .d files, this is normal.
  The make system hasn't built all of the dependency files yet. When it sees one is missing, it'll build it.
  <p>Sometimes the make system will get confused if it has a bad .d file or something along those lines. In
  that case try running <b>make allclean</b>, this will take the system back to it's default state.
  <b>make clean</b> removes all the compiled code and targets, but not the .d files.
  <br>
  <p>Building non-native ports are a bit more involved. To build them, you need a GNU C toolchain compiled
  for the target processor. I compiled them all as arch-elf, where arch is defined as the target architecture.
  For example, on my Sparc Solaris box, I have a toolchain installed at /usr/local/i386-elf/, /usr/local/sh-elf/,
  etc. I placed /usr/local/arch-elf/bin in the path and set the environment variable ARCH to be the architecture.
  Valid ones are 'i386','sh'. Hopefully should work. The build system will be looking for files like
  sh-elf-gcc and sh-elf-ld. It may be confused for whatever reason and not find the proper target, in which case
  please email me at <a href="mailto:geist@newos.org">geist@newos.org</a> and I'll try to fix the make system to
  recognize your case.
  </td>
 </tr>
</table>

<hr>

<table border="1" width="100%" bgcolor="#D9D5FF">
 <tr> 
  <td width="100%" height="49" valign="top" align="center"><small><font color="#000000">This
   page copyright 2002 </font></small><font size="2">© <a href="mailto:geist@newos.org">Travis
   Geiselbrecht</a><br>
   Any questions, comments, gripes, whatever: 
   <a href="mailto:geist@newos.org">geist@newos.org</a></font>
  </td>
 </tr>
</table>
		   
</body>
</html>

